<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>文件分享 - FooCloud</title>
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon.png">
    <link type="text/css" rel="stylesheet" href="/css/materialicons.css">
    <link type="text/css" rel="stylesheet" href="/css/materialize.min.css"  media="screen,projection"/>
    <link type="text/css" rel="stylesheet" href="/css/style.css">
    <link type="text/css" rel="stylesheet" href="/css/s.css">
  </head>

  <body>
    <nav>
      <div class="nav-wrapper blue darken-3">
        <ul class="left hide-on-med-and-down">
          <li><a href="javascript:void(0)" onclick="sidebar();"><i class="material-icons">menu</i></a></li>
        </ul>
        <a href="/" class="brand-logo"><i class="material-icons">cloud</i>FooCloud</a>
        <ul class="right hide-on-med-and-down">
          <li><a href="javascript:void(0)" onclick="window.location.reload();"><i class="material-icons">refresh</i></a></li>
          <li><a href="javascript:void(0)" onclick="nightMode();" id="switch-mode"><i class="material-icons">brightness_4</i></a></li>
        </ul>
      </div>
    </nav>

    <div class="z-depth-2" id="side">
      <div class="side-title">分享</div>
      <a href="">
        <div class="side-item valign-wrapper active">
          <i class="material-icons">share</i>
          文件分享
        </div>
      </a>

      <div id="copyright">
        &copy; 2020 <a href="https://github.com/PotatoChipsNinja/FooCloud" target="_blank">FooCloud</a>
        <br/>
        All Rights Reserved.
      </div>
    </div>

    <div id="content" class="valign-wrapper">
      <div class="center-align" style="width: 100%">
        <div class="card">
          <div class="card-content" id="auth" hidden>
            <span class="card-title">当前分享为加密分享</span>
            <hr/>
            <div class="input-field" style="width: 50%; display: inline-block; margin-right: 2rem;">
              <i class="material-icons prefix">vpn_key</i>
              <input id="password" type="password" onfocus="$(this).removeClass('invalid');">
              <label for="password">分享密码</label>
              <span class="helper-text" data-error="密码错误"></span>
            </div>
            <a class="waves-effect waves-light blue darken-3 btn" onclick="getInfo();">确定</a>
          </div>

          <div class="card-content" id="info" hidden>
            <span class="card-title"><span id="username"></span> 向您分享了一个文件</span>
            <hr/>
            <p><i class="material-icons circle center-align item-icon green">insert_drive_file</i></p>
            <span class="card-title grey-text text-darken-4 file-name" id="file-name"></span>
            <p class="file-info"><span id="file-time"></span> · <span id="file-size"></span></p>
            <hr/>
            <a class="waves-effect waves-light blue darken-3 btn" onclick="dl();">下载</a>
          </div>

          <div class="card-content" id="no-share" hidden>
            <i class="material-icons" style="font-size: 2rem; color: rgba(0, 0, 0, 0.6);">error</i>
            <hr/>
            <span class="card-title">分享不存在</span>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="link-modal" style="width: 25rem;">
      <div class="modal-content" style="padding: 0 24px;">
        <p style="font-size: 120%; margin-bottom: 2rem;">查看分享链接</p>
        <div class="input-field">
          <input type="text" id="share-link" readonly>
          <label for="share-link" id="share-link-label">分享链接</label>
        </div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" class="modal-close waves-effect waves-green btn-flat" style="color: #ef6c00; margin: 0;">关闭</a>
      </div>
    </div>

    <div class="modal" id="password-modal" style="width: 25rem;">
      <div class="modal-content" style="padding: 0 24px;">
        <p style="font-size: 120%; margin-bottom: 2rem;">查看分享密码</p>
        <div class="input-field">
          <input type="text" id="share-password" readonly>
          <label for="share-password" id="share-password-label">分享密码</label>
        </div>
      </div>
      <div class="modal-footer">
        <a href="javascript:void(0)" class="modal-close waves-effect waves-green btn-flat" style="color: #ef6c00; margin: 0;">关闭</a>
      </div>
    </div>

    <script type="text/javascript" src="/js/materialize.min.js"></script>
    <script type="text/javascript" src="/js/jquery.min.js"></script>
    <script type="text/javascript" src="/js/main.js"></script>
    <script type="text/javascript" src="/js/s.js"></script>
  </body>
</html>